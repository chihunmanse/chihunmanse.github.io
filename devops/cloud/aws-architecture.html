<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-devops/cloud/aws-architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기 | Chihun&#x27;s Dev Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://chihunmanse.github.io/img/m.png"><meta data-rh="true" name="twitter:image" content="https://chihunmanse.github.io/img/m.png"><meta data-rh="true" property="og:url" content="https://chihunmanse.github.io/devops/cloud/aws-architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기 | Chihun&#x27;s Dev Blog"><meta data-rh="true" name="description" content="천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기"><meta data-rh="true" property="og:description" content="천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://chihunmanse.github.io/devops/cloud/aws-architecture"><link data-rh="true" rel="alternate" href="https://chihunmanse.github.io/devops/cloud/aws-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://chihunmanse.github.io/devops/cloud/aws-architecture" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5b6de4da.css">
<link rel="preload" href="/assets/js/runtime~main.ababe4bb.js" as="script">
<link rel="preload" href="/assets/js/main.01b4c91d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Chihun&#x27;s Dev Blog</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/tags">Tags</a><a href="https://github.com/chihunmanse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>Chihun&#x27;s Dev Blog</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datastructure-algorithm">DataStructure &amp; Algorithm</a><button aria-label="Toggle the collapsible sidebar category &#x27;DataStructure &amp; Algorithm&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/backend">Backend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/devops/cloud">Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/devops/cloud/aws-architecture">천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/devops/docker">Docker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/devops/kubernetes">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blockchain">BlockChain</a><button aria-label="Toggle the collapsible sidebar category &#x27;BlockChain&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/devops"><span itemprop="name">DevOps</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/devops/cloud"><span itemprop="name">Cloud</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기</h1><p>해당 글은 AWS Korea의 <a href="https://www.youtube.com/watch?v=fhNpjPr-f54" target="_blank" rel="noopener noreferrer">천만 사용자를 위한 AWS 클라우드 아키텍처 진화하기 강연</a>를 토대로 정리한 글입니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="aws-리전과-가용영역">AWS 리전과 가용영역<a href="#aws-리전과-가용영역" class="hash-link" aria-label="Direct link to AWS 리전과 가용영역" title="Direct link to AWS 리전과 가용영역">​</a></h2><p><img loading="lazy" src="https://p.ipic.vip/lj3pf9.png" alt="스크린샷 2024-08-19 오후 2.39.18" class="img_ev3q"></p><p><img loading="lazy" src="https://p.ipic.vip/5a5qvz.png" alt="스크린샷 2024-08-19 오후 2.40.16" class="img_ev3q"></p><p>리전은 클러스터링된 큰 규모의 하나의 물리적 서비스 공간이며, 적어도 2개 이상의 가용영역으로 구성.</p><p>가용 영역은 하나 이상의 개별 데이터 센터로 구성되며 각 데이터 센터에는 이중화된 전원, 네트워킹 및 연결 구성이 되어 있으며 분리된 시설에 위치.</p><p>서울 리전의 경우 현재 4개의 가용영역이 있음.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="100명-이하의-사용자">100명 이하의 사용자<a href="#100명-이하의-사용자" class="hash-link" aria-label="Direct link to 100명 이하의 사용자" title="Direct link to 100명 이하의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항">주요 고려사항<a href="#주요-고려사항" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li>기본 아키텍처<ul><li>적절한 인스턴스 선택 및 스케일업</li><li>데이터베이스 분리</li><li>기본 보안 및 모니터링</li></ul></li><li>비용 효율적 구성</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처">아키텍처<a href="#아키텍처" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><p><img loading="lazy" src="https://p.ipic.vip/lhu12d.png" alt="스크린샷 2024-08-19 오후 1.16.24" class="img_ev3q"></p><p>사용자는 Route53이라고 하는 DNS 서비스를 통해서 Public IP를 찾아서 AWS VPC 안에 구성된 인스턴스와 연결하여 서비스를 시작.</p><p>인스턴스에서 Web과 WAS 역할을 하고 데이터는 별도 구성된 DB 인스턴스에 접근해서 가져오게 됨.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="용도에-맞는-ec2-서버-선택">용도에 맞는 EC2 서버 선택<a href="#용도에-맞는-ec2-서버-선택" class="hash-link" aria-label="Direct link to 용도에 맞는 EC2 서버 선택" title="Direct link to 용도에 맞는 EC2 서버 선택">​</a></h4><ul><li>업무에 적합한 서버 선정<ul><li>CPU, 메모리, I/O 별 인스턴스 타입</li><li>필요 성능에 따른 스토리지 선택</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="기본-보안-구성">기본 보안 구성<a href="#기본-보안-구성" class="hash-link" aria-label="Direct link to 기본 보안 구성" title="Direct link to 기본 보안 구성">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/6w1pu3.png" alt="스크린샷 2024-08-19 오후 1.18.41" class="img_ev3q"></p><ul><li><p>서브넷을 Public과 Private으로 분리함으로써 외부 사용자가 접근하는 네트웍과 데이터가 저장된 네트웍을 분리</p></li><li><p>각 인스턴스는 Security Group이라고 하는 Stateful 방식의 접근제어 서비스를 통해 필요한 Port와 IP만 접근할 수 있도록 구성</p></li><li><p>AWS Shield 솔루션을 통해 DDos 방어 수행 - Standard 서비스는 AWS 사용시 기본 제공</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="기본-모니터링">기본 모니터링<a href="#기본-모니터링" class="hash-link" aria-label="Direct link to 기본 모니터링" title="Direct link to 기본 모니터링">​</a></h4><ul><li>CloudWatch를 통한 리소스 메트릭 및 로그 모니터링</li><li>자동 대시보드 생성, 임계치 초과 알람 (SNS 연동)</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1000명-이상의-사용자">1000명 이상의 사용자<a href="#1000명-이상의-사용자" class="hash-link" aria-label="Direct link to 1000명 이상의 사용자" title="Direct link to 1000명 이상의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항-1">주요 고려사항<a href="#주요-고려사항-1" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li>이중화 구성을 통한 안정성 개선<ul><li>다중 가용영역 활용</li><li>로드 밸런서를 통한 서버 이중화</li><li>데이터베이스 이중화</li></ul></li><li>Managed DB 사용<ul><li>RDS, Aurora DB 활용</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처-1">아키텍처<a href="#아키텍처-1" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><p><img loading="lazy" src="https://p.ipic.vip/x4wdjm.png" alt="스크린샷 2024-08-19 오후 1.34.47" class="img_ev3q"></p><p>기존에는 단일 인스턴스, 단일 데이터베이스였기 때문에 고려하지 않았지만, 서비스 안정성을 높이기 위해서 다중 가용 영역을 활용.</p><p>인스턴스를 하나 이상으로 늘린다는 것은 곧 스케일아웃, 수평적 확장을 의미한다. 이 때 인스턴스 앞 단에서 사용자 트래픽을 받아서 각 인스턴스에게 분배해주는 서비스가 필요.</p><p>그 서비스가 곧 Elastic Load Balancer, ELB라고 하는 서비스이다. ELB는 여러 개의 가용영역에 걸쳐 서비스할 수 있다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="elb를-이용한-수평적-확장">ELB를 이용한 수평적 확장<a href="#elb를-이용한-수평적-확장" class="hash-link" aria-label="Direct link to ELB를 이용한 수평적 확장" title="Direct link to ELB를 이용한 수평적 확장">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/h8dni5.png" alt="스크린샷 2024-08-19 오후 1.26.16" class="img_ev3q"></p><ul><li>여러 대상으로 트래픽을 분산</li><li>다중 가용 영역 지원<ul><li>가용영역은 1개 이상의 물리적 데이터센터를 연결한 독립적 전력, 네트워킹, 연결이 제공되는 기본 서비스 단위</li></ul></li><li>자동으로 용량 확장</li><li>오토 스케일 그룹 지원<ul><li>자동으로 인스턴스를 ELB에 등록하고 제외</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="alb-vs-nlb">ALB vs NLB<a href="#alb-vs-nlb" class="hash-link" aria-label="Direct link to ALB vs NLB" title="Direct link to ALB vs NLB">​</a></h4><ul><li>Application Load Balancer<ul><li>HTTP와 HTTPS를 지원하는 L7 기반 로드 밸런서</li><li>고가용성, 자동확장</li><li>컨텐츠 기반 라우팅</li><li>HTTP/2</li><li>헬스 체크</li><li>세션 유지</li><li>모니터링/로깅</li><li>WebSockets 지원</li></ul></li><li>Network Load Balancer<ul><li>L4 레벨의 분기를 지원하므로 상대적으로 Throughput이 더 높음</li><li>고가용성, 자동확장</li><li>고정 IP</li><li>TCP, UDP, TLS 지원</li><li>소스 IP 주소 유지</li><li>헬스 체크</li><li>세션 유지</li><li>모니터링/로깅</li><li>WebSockets 지원</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="amazon-rds---관리형-데이터베이스">Amazon RDS - 관리형 데이터베이스<a href="#amazon-rds---관리형-데이터베이스" class="hash-link" aria-label="Direct link to Amazon RDS - 관리형 데이터베이스" title="Direct link to Amazon RDS - 관리형 데이터베이스">​</a></h4><p>6개 데이터베이스 엔진 기반의 관계형 데이터베이스 관리형 서비스</p><ul><li>Amazon Aurora<ul><li>MySQL, PostgreSQL과 호환</li><li>3개의 가용 영역에 6벌 복제</li><li>최대 15개 읽기 복제본</li><li>최대 64TB 자동 스토리지 확장</li><li>Amazon S3 지속 증분 백업</li></ul></li><li>MySQL</li><li>PostgreSQL</li><li>MariaDB</li><li>SQLServer</li><li>Oracle</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="장점">장점<a href="#장점" class="hash-link" aria-label="Direct link to 장점" title="Direct link to 장점">​</a></h5><ul><li>간편한 관리<ul><li>데이터베이스 설치, 수동 패치 필요 없음</li></ul></li><li>뛰어난 확장성<ul><li>손쉽게 컴퓨팅 및 스토리지 확장</li></ul></li><li>가용성 및 내구성<ul><li>Multi-AZ 구성시 자동 동기식 복제, 자동화 백업</li></ul></li><li>성능과 낮은 비용</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="데이터베이스-이중화">데이터베이스 이중화<a href="#데이터베이스-이중화" class="hash-link" aria-label="Direct link to 데이터베이스 이중화" title="Direct link to 데이터베이스 이중화">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/cq6hac.png" alt="스크린샷 2024-08-19 오후 1.41.53" class="img_ev3q"></p><p>다중 가용 영역에 읽기, 쓰기 인스턴스로 이중화 구성</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10000명-이상의-사용자">10,000명 이상의 사용자<a href="#10000명-이상의-사용자" class="hash-link" aria-label="Direct link to 10,000명 이상의 사용자" title="Direct link to 10,000명 이상의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항-2">주요 고려사항<a href="#주요-고려사항-2" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li>오토 스케일링 그룹</li><li>웹 성능 개선<ul><li>정적 컨텐츠 분리 및 캐싱</li><li>동적 컨텐츠 가속화</li></ul></li><li>운영 자동화</li><li>보안 고도화</li><li>비용 최적화</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처-2">아키텍처<a href="#아키텍처-2" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="트래픽-변화에-대한-대응">트래픽 변화에 대한 대응<a href="#트래픽-변화에-대한-대응" class="hash-link" aria-label="Direct link to 트래픽 변화에 대한 대응" title="Direct link to 트래픽 변화에 대한 대응">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/u96nfc.png" alt="스크린샷 2024-08-19 오후 1.44.22" class="img_ev3q"></p><p>온프렘 환경이라면 인스턴스 사이즈는 3번에 맞춰야만 한다.</p><p>클라우드 환경에서는 오토 스케일링을 통해 최적의 인프라 리소스를 자동으로 활용할 수 있도록 해준다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="오토-스케일링-그룹">오토 스케일링 그룹<a href="#오토-스케일링-그룹" class="hash-link" aria-label="Direct link to 오토 스케일링 그룹" title="Direct link to 오토 스케일링 그룹">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/uh62f1.png" alt="스크린샷 2024-08-19 오후 1.51.29" class="img_ev3q"></p><p>EC2 인스턴스에 오토스케일링 그룹을 설정해서 내가 지정한 기준에 따라 인스턴스가 자동으로 늘어나거나 줄어들 수 있도록 구성할 수 있음.</p><p>일반 RDS의 경우는 DB의 스토리지에 대해서만 오토스케일링이 가능했지만, AuroraDB의 경우 인스턴스에 대해서도 오토스케일링이 가능함.</p><ul><li>컴퓨팅 클러스터의 자동 수량 조절</li><li>Pool 사이즈의 최소/최대 값을 지정</li><li>서버 장애 시 최소 수량만큼 자동 복구</li><li>Amazon CloudWatch 지표 기반 스케일링</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="웹-성능-개선---cloudfront">웹 성능 개선 - CloudFront<a href="#웹-성능-개선---cloudfront" class="hash-link" aria-label="Direct link to 웹 성능 개선 - CloudFront" title="Direct link to 웹 성능 개선 - CloudFront">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/1yajwa.png" alt="스크린샷 2024-08-19 오후 1.56.54" class="img_ev3q"></p><p>EC2나 DB와 같은 일반적 서비스를 하는 물리적 가용영역이 아니라 별도의 공간, 고객에 가까운 위치에 POP이라고 하는 전용선으로 연결된 에어리어를 두고 캐싱.</p><p>정적 컨텐츠는 캐싱을 하고 동적 컨텐츠는 인터넷이 아닌 전용구간 가속화를 통해 성능 향상.</p><p>사용자는 Route53에서 IP를 받고 CloudFront에 설정된 엔드포인트를 통해 접근, HTML, CSS, JS 뿐만 아니라 이미지와 동영상 같은 정적 컨텐츠는 S3를 오리진으로 해서 CloudFront에 캐싱하고 사용자에게 보다 빠르게 전달 됨.</p><p>Dynamic한 요청에 대해서는 CloudFront와 VPC 간의 내부 전용선을 통해 보다 빠르게 전송하고 앞서 구성한 ELB를 통해 각 인스턴스 및 DB로 접근해서 필요한 내용을 가져오는 구조.</p><ul><li>빠른 컨텐츠 전달을 위해 캐싱</li><li>오리진 측의 부담을 덜어줌</li><li>동적 / 정적 컨텐츠 / 스트리밍 비디오</li><li>사용자 SSL 인증서</li><li>낮은 TTL</li><li>AWS에 최적화</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="운영-자동화---systems-manager">운영 자동화 - Systems Manager<a href="#운영-자동화---systems-manager" class="hash-link" aria-label="Direct link to 운영 자동화 - Systems Manager" title="Direct link to 운영 자동화 - Systems Manager">​</a></h4><ul><li>클라우드, 온프레미스 및 엣지에서 가시성 및 제어를 개선</li><li>운영 문제의 탐지 및 해결에 소요되는 시간을 단축</li><li>패치, 구성 및 사용자 지정 정책에 대한 인스턴스 규정 준수</li><li>애플리케이션 및 리소스의 구성 및 지속적인 관리 자동화</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="100000명-이상의-사용자">100,000명 이상의 사용자<a href="#100000명-이상의-사용자" class="hash-link" aria-label="Direct link to 100,000명 이상의 사용자" title="Direct link to 100,000명 이상의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항-3">주요 고려사항<a href="#주요-고려사항-3" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li><p>컨테이너 기반 서비스 전환
컨테이너는 코드, 의존성, 런타임을 묶어서 만든 하나의 Immutable 단일 객체.
Immutable 이라는 것은 형상을 운영 중 변경하는 것이 아니라 새로운 것으로 교체해 버린다는 의미.
커널 혹은 애플리케이션 레벨의 설정이 변경 되거나 코드가 바뀌는 경우에는 새로운 컨테이너로 교체를 해서 서비스.</p><ul><li>표준화, 경량화, 이식성, 쉬운 배포</li></ul></li><li><p>데이터베이스 성능</p><ul><li>캐시 기반 읽기 성능 개선</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처-3">아키텍처<a href="#아키텍처-3" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="마이크로-서비스를-위한-컨테이너-솔루션">마이크로 서비스를 위한 컨테이너 솔루션<a href="#마이크로-서비스를-위한-컨테이너-솔루션" class="hash-link" aria-label="Direct link to 마이크로 서비스를 위한 컨테이너 솔루션" title="Direct link to 마이크로 서비스를 위한 컨테이너 솔루션">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/rr45f4.png" alt="스크린샷 2024-08-19 오후 2.07.30" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="컨테이너-기반-아키텍처---eks">컨테이너 기반 아키텍처 - EKS<a href="#컨테이너-기반-아키텍처---eks" class="hash-link" aria-label="Direct link to 컨테이너 기반 아키텍처 - EKS" title="Direct link to 컨테이너 기반 아키텍처 - EKS">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/z19bzo.png" alt="스크린샷 2024-08-19 오후 2.09.10" class="img_ev3q"></p><p>기존 비즈니스 로직을 처리하는 EC2 인스턴스가 EKS로 변경되고 Worker Node들 안에 컨테이너 존재</p><p>EKS의 경우 별도 분리된 VPC에 EKS의 컨트롤 플레인을 다중 가용 영역에서 서비스, 내부적으로 ENI라고 하는 인터페이스를 통해 상호 연결.</p><p>AuroraDB의 경우 Read Replica를 여러 개 두어서 부하 분산 처리.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="데이터베이스-읽기-캐시---amazon-elasticache">데이터베이스 읽기 캐시 - Amazon ElastiCache<a href="#데이터베이스-읽기-캐시---amazon-elasticache" class="hash-link" aria-label="Direct link to 데이터베이스 읽기 캐시 - Amazon ElastiCache" title="Direct link to 데이터베이스 읽기 캐시 - Amazon ElastiCache">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/rtvy3j.png" alt="스크린샷 2024-08-19 오후 2.14.00" class="img_ev3q"></p><ul><li>관리형 Memcached 또는 Redis</li><li>한 개에서 여러 개의 노드로 확장</li><li>자가 복구 (문제 인스턴스 교체)</li><li>한 자리수 ms 속도</li><li>캐시, 세션 저장소, 채팅, 게임리더보드 등 다양한 케이스로 활용 가능</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1000000명-이상의-사용자">1,000,000명 이상의 사용자<a href="#1000000명-이상의-사용자" class="hash-link" aria-label="Direct link to 1,000,000명 이상의 사용자" title="Direct link to 1,000,000명 이상의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항-4">주요 고려사항<a href="#주요-고려사항-4" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li>데이터베이스 분산<ul><li>목적에 맞는 데이터베이스 분리</li><li>샤딩을 통한 데이터셋 분리</li></ul></li><li>재해복구 및 멀티리전 서비스<ul><li>CFN, CDK를 통한 laC 구현</li><li>S3, RDS, DynamoDB 교차리전 복제</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처-4">아키텍처<a href="#아키텍처-4" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="용도에-맞는-db-서비스-적용">용도에 맞는 DB 서비스 적용<a href="#용도에-맞는-db-서비스-적용" class="hash-link" aria-label="Direct link to 용도에 맞는 DB 서비스 적용" title="Direct link to 용도에 맞는 DB 서비스 적용">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/suk0dm.png" alt="스크린샷 2024-08-19 오후 2.16.38" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nosql-데이터베이스---amazon-dynamodb">NoSQL 데이터베이스 - Amazon DynamoDB<a href="#nosql-데이터베이스---amazon-dynamodb" class="hash-link" aria-label="Direct link to NoSQL 데이터베이스 - Amazon DynamoDB" title="Direct link to NoSQL 데이터베이스 - Amazon DynamoDB">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/d3lc86.png" alt="스크린샷 2024-08-19 오후 2.19.25" class="img_ev3q"></p><p>장바구니나 위시리스트 같은 서비스를 별도로 DynamoDB로 구성.</p><p>관계형 DB의 경우에도 하나의 효율적 분산처리를 원하는 경우 샤딩을 구성해서 부하 분산 가능.</p><ul><li>완전 관리형 NoSQL 데이터베이스</li><li>대규모 요청에도 한 자릿수 ms 응답 시간</li><li>페타바이트 규모 스토리지</li><li>프로비저닝된 스루풋</li><li>다중 리전 글로벌 테이블 복제</li><li>DAX를 통한 읽기 및 쓰기 캐시</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="멀티리전-재해-복구">멀티리전 재해 복구<a href="#멀티리전-재해-복구" class="hash-link" aria-label="Direct link to 멀티리전 재해 복구" title="Direct link to 멀티리전 재해 복구">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/62r8ks.png" alt="스크린샷 2024-08-19 오후 2.23.25" class="img_ev3q"></p><p>Infra as a code 서비스인 CDK를 이용할 수 있음.</p><p>파이썬이나 노드 JS, 타입스크립트, 자바와 같은 일반 프로그래밍 언어를 이용해서 인프라 및 서비스 구성에 대한 자동화 구현 가능.</p><p>이를 기반으로 재활용 가능한 템플릿을 구성하여 다른 리전에 빠르고 정확하게 서비스를 복구할 수 있음.</p><p><img loading="lazy" src="https://p.ipic.vip/qqmhe0.png" alt="스크린샷 2024-08-19 오후 2.24.50" class="img_ev3q"></p><p>리전 1번으로 평상시에 서비스를 구축하고 운영하다가 문제가 발생한 경우 리전 2번에 CDK를 통해 빠르게 리소스를 복구시키고, S3와 데이터베이스 스냅샷 등을 통해 서비스 복구</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10000000명-이상의-사용자">10,000,000명 이상의 사용자<a href="#10000000명-이상의-사용자" class="hash-link" aria-label="Direct link to 10,000,000명 이상의 사용자" title="Direct link to 10,000,000명 이상의 사용자">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="주요-고려사항-5">주요 고려사항<a href="#주요-고려사항-5" class="hash-link" aria-label="Direct link to 주요 고려사항" title="Direct link to 주요 고려사항">​</a></h3><ul><li>다중 리전 서비스<ul><li>다중 리전별 서비스 활성화</li><li>데이터베이스의 글로벌 서비스</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="아키텍처-5">아키텍처<a href="#아키텍처-5" class="hash-link" aria-label="Direct link to 아키텍처" title="Direct link to 아키텍처">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="aurora-글로벌-데이터베이스">Aurora 글로벌 데이터베이스<a href="#aurora-글로벌-데이터베이스" class="hash-link" aria-label="Direct link to Aurora 글로벌 데이터베이스" title="Direct link to Aurora 글로벌 데이터베이스">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/oi2wya.png" alt="스크린샷 2024-08-19 오후 2.27.43" class="img_ev3q"></p><ul><li>데이터를 마스터링하는 하나의 기본 AWS 리전 및 최대 5개의 읽기 전용 리전 가능</li><li>짧은 복제 지연시간<ul><li>1초 미만의 짧은 복제 지연시간으로 리전 간 데이터 복제</li></ul></li><li>빠른 복구<ul><li>기본 리전 장애 시 1분 이내에 타 리전에서 read-write 승격 가능</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dynamodb-글로벌-테이블">DynamoDB 글로벌 테이블<a href="#dynamodb-글로벌-테이블" class="hash-link" aria-label="Direct link to DynamoDB 글로벌 테이블" title="Direct link to DynamoDB 글로벌 테이블">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/spvzfp.png" alt="스크린샷 2024-08-19 오후 2.29.18" class="img_ev3q"></p><ul><li>글로벌 테이블에 대해 각 리전 별 Local 읽기-쓰기 지원</li><li>짧은 지연시간으로 데이터 동기화</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="elasticache-글로벌-데이터스토어-for-redis">ElastiCache 글로벌 데이터스토어 for Redis<a href="#elasticache-글로벌-데이터스토어-for-redis" class="hash-link" aria-label="Direct link to ElastiCache 글로벌 데이터스토어 for Redis" title="Direct link to ElastiCache 글로벌 데이터스토어 for Redis">​</a></h4><p><img loading="lazy" src="https://p.ipic.vip/3mgtlk.png" alt="스크린샷 2024-08-19 오후 2.30.37" class="img_ev3q"></p><ul><li>하나의 리전에서 Active Master의 역할을 하면서 읽기와 쓰기를 할 수 있고, 다른 리전에서는 해당 내용을 Cross Region Link를 통해 복제하고 읽기 전용으로 활용 가능</li><li>짧은 복제 지연시간<ul><li>1초 미만의 짧은 복제 지연시간으로 리전 간 데이터 복제</li></ul></li><li>빠른 복구<ul><li>기본 리전 장애 시 1분 이내에 타 리전에서 read-write 승격 가능</li></ul></li></ul><p><img loading="lazy" src="https://p.ipic.vip/hv50a9.png" alt="스크린샷 2024-08-19 오후 2.31.56" class="img_ev3q"></p><p>여러 개의 리전을 Active하게 Route53을 통해 보다 가까운 지역에서 접근할 수 있도록 하고, 데이터에 대해서도 글로벌 데이터베이스 활용.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="요약">요약<a href="#요약" class="hash-link" aria-label="Direct link to 요약" title="Direct link to 요약">​</a></h2><ul><li>Single Point Of Failure를 없애는 구성<ul><li>이중화 및 Failover 구성을 항상 고려</li><li>다중 가용역역 또는 다중 리전을 통한 서비스</li></ul></li><li>오토 스케일링을 이용한 유연성 확보</li><li>성능 및 부하 분산을 위해 데이터를 캐시</li><li>확장성이 뛰어난 관리형 서비스 활용</li><li>CloudFormation 및 CDKS를 이용한 프로비저닝</li><li>용도에 적합한 데이터베이스 사용</li><li>느슨한 결합/분산 아키텍처 적용</li><li>적절한 지표/모니터링/로깅을 하고 있는지 확인</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/dev-ops">DevOps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/cloud">Cloud</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/aws">AWS</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/devops/cloud"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cloud</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/devops/docker"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#aws-리전과-가용영역" class="table-of-contents__link toc-highlight">AWS 리전과 가용영역</a></li><li><a href="#100명-이하의-사용자" class="table-of-contents__link toc-highlight">100명 이하의 사용자</a><ul><li><a href="#주요-고려사항" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#1000명-이상의-사용자" class="table-of-contents__link toc-highlight">1000명 이상의 사용자</a><ul><li><a href="#주요-고려사항-1" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처-1" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#10000명-이상의-사용자" class="table-of-contents__link toc-highlight">10,000명 이상의 사용자</a><ul><li><a href="#주요-고려사항-2" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처-2" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#100000명-이상의-사용자" class="table-of-contents__link toc-highlight">100,000명 이상의 사용자</a><ul><li><a href="#주요-고려사항-3" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처-3" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#1000000명-이상의-사용자" class="table-of-contents__link toc-highlight">1,000,000명 이상의 사용자</a><ul><li><a href="#주요-고려사항-4" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처-4" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#10000000명-이상의-사용자" class="table-of-contents__link toc-highlight">10,000,000명 이상의 사용자</a><ul><li><a href="#주요-고려사항-5" class="table-of-contents__link toc-highlight">주요 고려사항</a></li><li><a href="#아키텍처-5" class="table-of-contents__link toc-highlight">아키텍처</a></li></ul></li><li><a href="#요약" class="table-of-contents__link toc-highlight">요약</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.ababe4bb.js"></script>
<script src="/assets/js/main.01b4c91d.js"></script>
</body>
</html>