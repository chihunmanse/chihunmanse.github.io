## 정적메서드 (@classmethod와 @staticmethod)

정적메서드는 인스턴스를 만들지 않아도 class의 메서드를 바로 호출할 수 있다.

다른 언어와는 다르게 인스턴스에서도 접근 가능.

**@staticmethod**

```python
class 클래스이름:
    @staticmethod
    def 메서드(매개변수1, 매개변수2):
        코드
```

정적 메서드는 메서드 위에 @staticmethod 데코레이터 사용, 이때 정적 메서드는 매개변수에 self를 지정하지 않는다. 

```python
class Calc:
    @staticmethod
    def add(a, b):
        print(a + b)
 
    @staticmethod
    def mul(a, b):
        print(a * b)
 
Calc.add(10, 20)    # 클래스에서 바로 메서드 호출
Calc.mul(10, 20)    # 클래스에서 바로 메서드 호출
```

정적 메서드는 self를 받지 않으므로 인스턴스 속성에는 접근할 수 없다. 인스턴스 속성, 인스턴스 메서드가 필요 없을 때 사용.

정적 메서드는 메서드의 실행이 외부 상태에 영향을 끼치지 않는 순수 함수(pure function)를 만들 때 사용, 순수 함수는 부수 효과(side effect)가 없고 입력 값이 같으면 언제나 같은 출력 값을 반환, 정적 메서드는 인스턴스의 상태를 변화시키지 않는 메서드를 만들 때 사용.

```python
>>> a = {1, 2, 3, 4}
>>> a.update({5})    # 인스턴스 메서드
>>> a
{1, 2, 3, 4, 5}
>>> set.union({1, 2, 3, 4}, {5})    # 정적(클래스) 메서드
{1, 2, 3, 4, 5}
```

인스턴스의 내용을 변경해야 할 때는 update와 같이 인스턴스 메서드로 작성하면 되고, 인스턴스 내용과는 상관없이 결과만 구하면 될 때는 set.union과 같이 정적 메서드로 작성.

**@classmethod**

```python
class 클래스이름:
    @classmethod
    def 메서드(cls, 매개변수1, 매개변수2):
        코드
```

클래스 메서드는 메서드 위에 @classmethod 데코레이터 사용, 클래스 메서드는 첫 번째 매개변수에 cls를 지정.

```python
class Person:
    count = 0    # 클래스 속성
 
    def __init__(self):
        Person.count += 1    # 인스턴스가 만들어질 때
                             # 클래스 속성 count에 1을 더함
 
    @classmethod
    def print_count(cls):
        print('{0}명 생성되었습니다.'.format(cls.count))    # cls로 클래스 속성에 접근
 
james = Person()
maria = Person()
 
Person.print_count()    # 2명 생성되었습니다.
```

클래스 메서드는 첫 번째 매개변수 cls에 현재 클래스가 들어온다. 따라서 cls.count처럼 cls로 클래스 속성 count에 접근할 수 있다. 클래스 메서드는 정적 메서드처럼 인스턴스 없이 호출할 수 있다는 점은 같지만, 메서드 안에서 클래스 속성, 클래스 메서드에 접근해야 할 때 사용.

```python
 @classmethod
    def create(cls):
        p = cls()    # cls()로 인스턴스 생성, Person()와 같음
        return p
```

클래스 메서드 안에서 인스턴스를 생성할 수도 있다.

```python
class CustomClass:

    # instance method
    def add_instance_method(self, a,b):
        return a + b

    # classmethod
    @classmethod
    def add_class_method(cls, a, b):
        return a + b

    # staticmethod
    @staticmethod
    def add_static_method(a, b):
        return a + b
```

```python
>>> a = CustomClass()
>>> a.add_class_method(3, 5)
8
>>> a.add_static_method(3, 5)
8
```

정적 메서드, 클래스 메서드 모두 인스턴스에서도 접근 가능

## @classmethod와 @staticmethod 의 차이

```python
class Language:
    default_language = "English"

    def __init__(self):
        self.show = '나의 언어는' + self.default_language

    @classmethod
    def class_my_language(cls):
        return cls()

    @staticmethod
    def static_my_language():
        return Language()

    def print_language(self):
        print(self.show)


class KoreanLanguage(Language):
    default_language = "한국어"
```

```python
>>> a = KoreanLanguage.static_my_language()
>>> b = KoreanLanguage.class_my_language()
>>> a.print_language()
나의 언어는English
>>> b.print_language()
나의 언어는한국어
```

staticmethod에서는 부모클래스의 클래스속성 값을 가져오지만, classmethod에서는 cls인자를 활용하여 cls의 클래스속성을 가져온다.
