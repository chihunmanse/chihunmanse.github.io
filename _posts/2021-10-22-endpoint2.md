---
layout: single
tags: 
 - REST

toc: true
toc_sticky: true

title: "[project] KREAM 클론 엔드포인트 정리"
---

{% raw %}


## POST /orders/bidding/{int:productsize_id}/{int:position_id} (입찰생성)

position_id : 1(BUY),  2(SELL)

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰

**Body key list**

price(필수)

예시 : /orders/bidding/400/1

```json
{
 "price" : 450000
}
```

응답 :

```json
{
    "message": "SUCCESS"
}
```



## GET /orders/bidding/{int:productsize_id}/{int:position_id} (**입찰 조회 - 주문 페이지에서 즉시 거래가 조회**)

position_id : 1(BUY),  2(SELL) - 구매자가 조회시 판매입찰 정보를 조회해야하기 때문에 position_id 2번으로 요청해야함

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰

예시 :

```
/orders/bidding/1/1
```

응답 :

```json
{
    "data": {
        "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
        "product_name": "Jordan 1 Retro High OG Black Mocha\n\nJordan 1 Retro",
        "product_brand": "NIKE",
        "product_model_number": "1429",
        "size": 230,
        "sell_price": 1000000,
        "buy_price": 700000,
        "user_point": 1140000,
        "bidding_id": 3033,
        "bidding_price": 1000000
    }
}
```



## **POST /orders/{int:bidding_id} (주문 생성)**

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰



예시 :

```
/orders/700
```

응답 :

```json
{
    "message": "SUCCESS"
}
```



## **GET /orders/size-price/{int:product_id}/{int:position_id} (상품의 사이즈별 즉시 거래가 조회)**

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰



예시 :

```
/orders/size-price/5/2
```

응답:

```json
{
    "product_info": {
        "product_image_url": "https://user-images.githubusercontent.com/61782539/139365117-8d7fab74-3f46-456a-aa92-95ddc58c873e.jpg",
        "product_name": "Jordan 1 x Travis Scott x Fragment Retro Low OG SP",
        "product_brand": "NIKE",
        "product_model_number": "1141"
    },
    "size_price_list": [
        {
            "productsize_id": 33,
            "size": 230,
            "bidding_id": 2690,
            "bidding_price": 200000
        },
        {
            "productsize_id": 34,
            "size": 240,
            "bidding_id": 2872,
            "bidding_price": 200000
        },
        {
            "productsize_id": 35,
            "size": 250,
            "bidding_id": 2665,
            "bidding_price": 100000
        },
        {
            "productsize_id": 36,
            "size": 260,
            "bidding_id": 2904,
            "bidding_price": 100000
        },
        {
            "productsize_id": 37,
            "size": 270,
            "bidding_id": 2746,
            "bidding_price": 100000
        },
        {
            "productsize_id": 38,
            "size": 280,
            "bidding_id": null,
            "bidding_price": null
        },
        {
            "productsize_id": 39,
            "size": 290,
            "bidding_id": 2686,
            "bidding_price": 130000
        },
        {
            "productsize_id": 40,
            "size": 300,
            "bidding_id": null,
            "bidding_price": null
        }
    ]
}
```



## **GET /orders/price/{int:product_id} (상품의 시세 조회)**

**Query parameter list**

- 그래프 데이터는 size, period만 적용, 정렬은 오래된 순

1. size =  230, 240, 250, 260, 270, 280, 290, 300
2. period =  1m(그래프 한달내역), 3m(그래프 3개월 내역), 6m(그래프 6개월 내역), 1y(그래프 1년 내역) - 기본은 1y
3. sort = low_pirce(낮은 가격순), high_price(높은 가격순), low_size(낮은 사이즈순), high_price(높은 사이즈순), recent(최신순) - 체결거래 내역의 초기 정렬은 최신순, 판매 입찰 내역의 초기 정렬은 낮은 가격순, 구매 입찰 내역의 초기 정렬은 높은 가격 순
4. limit = 기본 값 5
5. offset = 기본 값 0



예시 :

```
/orders/price/1?period=1m
```

응답 :

```json
    "data": {
        "order_graph_data": [
            {
                "id": 983,
                "price": 250000,
                "created_at": "2021-10-08"
            },
            {
                "id": 243,
                "price": 400000,
                "created_at": "2021-10-10"
            },
            {
                "id": 430,
                "price": 400000,
                "created_at": "2021-10-12"
            },
            {
                "id": 535,
                "price": 80000,
                "created_at": "2021-10-20"
            },
            {
                "id": 1001,
                "price": 350000,
                "created_at": "2021-10-21"
            },
            {
                "id": 1002,
                "price": 300000,
                "created_at": "2021-10-21"
            },
            {
                "id": 1006,
                "price": 180000,
                "created_at": "2021-10-28"
            },
            {
                "id": 1008,
                "price": 420000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1010,
                "price": 190000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1011,
                "price": 190000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1012,
                "price": 150000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1013,
                "price": 190000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1015,
                "price": 250000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1018,
                "price": 320000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1019,
                "price": 150000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1020,
                "price": 320000,
                "created_at": "2021-10-29"
            },
            {
                "id": 1021,
                "price": 180000,
                "created_at": "2021-10-29"
            }
        ],
        "order_list": [
            {
                "id": 1021,
                "price": 180000,
                "size": 290,
                "created_at": "2021-10-29"
            },
            {
                "id": 1020,
                "price": 320000,
                "size": 240,
                "created_at": "2021-10-29"
            },
            {
                "id": 1019,
                "price": 150000,
                "size": 290,
                "created_at": "2021-10-29"
            },
            {
                "id": 1018,
                "price": 320000,
                "size": 240,
                "created_at": "2021-10-29"
            },
            {
                "id": 1015,
                "price": 250000,
                "size": 270,
                "created_at": "2021-10-29"
            }
        ],
        "sell_bidding_list": [
            {
                "price": 150000,
                "size": 280,
                "count": 1
            },
            {
                "price": 180000,
                "size": 290,
                "count": 1
            },
            {
                "price": 200000,
                "size": 290,
                "count": 2
            },
            {
                "price": 250000,
                "size": 290,
                "count": 2
            },
            {
                "price": 290000,
                "size": 240,
                "count": 1
            }
        ],
        "buy_bidding_list": [
            {
                "price": 1000000,
                "size": 230,
                "count": 1
            },
            {
                "price": 450000,
                "size": 280,
                "count": 1
            },
            {
                "price": 450000,
                "size": 290,
                "count": 1
            },
            {
                "price": 420000,
                "size": 280,
                "count": 1
            },
            {
                "price": 420000,
                "size": 290,
                "count": 3
            }
        ]
    }
}
```



## **GET /orders (주문, 입찰중인 내역 조회)**

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰



예시 :

```
/orders
```

응답 :

```json
{
    "data": {
        "user_name": "이주원",
        "user_email": "user1@gmail.com",
        "user_point": 1380000,
        "buy_order_count": 11,
        "buy_order_list": [
            {
                "product_id": 1,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Retro High OG Black Mocha\n\nJordan 1 Retro",
                "product_brand": "NIKE",
                "size": 230,
                "order_status": "검수중"
            },
            {
                "product_id": 14,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 6 x Travis Scott Retro SP British Khaki\n\n",
                "product_brand": "NIKE",
                "size": 270,
                "order_status": "검수중"
            },
            {
                "product_id": 23,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Low Light Smoke Grey\n\n",
                "product_brand": "NIKE",
                "size": 240,
                "order_status": "검수중"
            },
            {
                "product_id": 20,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "(GS) Jordan 1 Low Black Particle Grey\n\n",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 35,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "조던35",
                "product_brand": "NIKE",
                "size": 230,
                "order_status": "검수중"
            },
            {
                "product_id": 10,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139366681-1108f66a-5e49-4211-83c9-52d6effb1d68.jpg",
                "product_name": "Jordan 1 Mid Gym Red Black White\n\n",
                "product_brand": "NIKE",
                "size": 270,
                "order_status": "검수중"
            },
            {
                "product_id": 37,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "조던37",
                "product_brand": "NIKE",
                "size": 250,
                "order_status": "검수중"
            },
            {
                "product_id": 2,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139364473-43e32015-ce55-4536-bc85-0ba74509d23e.jpg",
                "product_name": "Jordan 1 Low OG Starfish\n\n",
                "product_brand": "NIKE",
                "size": 290,
                "order_status": "검수중"
            },
            {
                "product_id": 14,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 6 x Travis Scott Retro SP British Khaki\n\n",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 36,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "조던36",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 29,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Retro High OG Gym Red\n\n",
                "product_brand": "NIKE",
                "size": 280,
                "order_status": "검수중"
            }
        ],
        "sell_order_count": 12,
        "sell_order_list": [
            {
                "product_id": 16,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 x Travis Scott Retro High OG SP Mocha\n\n",
                "product_brand": "NIKE",
                "size": 250,
                "order_status": "검수중"
            },
            {
                "product_id": 13,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "(W) Jordan 1 Mid White Hyper Royal\n\n",
                "product_brand": "NIKE",
                "size": 300,
                "order_status": "검수중"
            },
            {
                "product_id": 16,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 x Travis Scott Retro High OG SP Mocha\n\n",
                "product_brand": "NIKE",
                "size": 230,
                "order_status": "검수중"
            },
            {
                "product_id": 3,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139364953-b4eb0278-9645-4174-bd1d-27ef3d92a7ef.jpg",
                "product_name": "(W) Jordan 1 Mid Grey Fog\n\n",
                "product_brand": "NIKE",
                "size": 290,
                "order_status": "검수중"
            },
            {
                "product_id": 12,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Retro High OG CO.JP Midnight Navy\n\n",
                "product_brand": "NIKE",
                "size": 270,
                "order_status": "검수중"
            },
            {
                "product_id": 37,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "조던37",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 24,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "(W) Jordan 1 Retro High OG Seafoam\n\n",
                "product_brand": "NIKE",
                "size": 290,
                "order_status": "검수중"
            },
            {
                "product_id": 2,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139364473-43e32015-ce55-4536-bc85-0ba74509d23e.jpg",
                "product_name": "Jordan 1 Low OG Starfish\n\n",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 32,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Mid Chicago 2020\n\n",
                "product_brand": "NIKE",
                "size": 290,
                "order_status": "검수중"
            },
            {
                "product_id": 20,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "(GS) Jordan 1 Low Black Particle Grey\n\n",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            },
            {
                "product_id": 28,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Mid Light Smoke Grey\n\n",
                "product_brand": "NIKE",
                "size": 250,
                "order_status": "검수중"
            },
            {
                "product_id": 33,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Mid Pollen\n\n",
                "product_brand": "NIKE",
                "size": 260,
                "order_status": "검수중"
            }
        ],
        "buy_on_bidding_count": 8,
        "buy_bidding_list": [
            {
                "product_id": 1,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Retro High OG Black Mocha\n\nJordan 1 Retro",
                "product_brand": "NIKE",
                "size": 230
            },
            {
                "product_id": 6,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139365634-69407c14-95c3-4787-b8a6-2c5abdbf1004.jpg",
                "product_name": "(W) 조던 1 미드 울프 그레이\n\n",
                "product_brand": "NIKE",
                "size": 250
            },
            {
                "product_id": 33,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Mid Pollen\n\n",
                "product_brand": "NIKE",
                "size": 300
            },
            {
                "product_id": 9,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139366622-392be7d7-a738-4d9c-8e8a-4c91cd702558.jpg",
                "product_name": "(GS) Jordan 1 Retro High OG University Blue\n\n",
                "product_brand": "NIKE",
                "size": 230
            },
            {
                "product_id": 3,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139364953-b4eb0278-9645-4174-bd1d-27ef3d92a7ef.jpg",
                "product_name": "(W) Jordan 1 Mid Grey Fog\n\n",
                "product_brand": "NIKE",
                "size": 250
            },
            {
                "product_id": 4,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139365041-59ebf3a7-2414-4cdf-b295-e8478b247dee.jpg",
                "product_name": "(W) 조던 1 로우 화이트 울프 그레이\n\n",
                "product_brand": "NIKE",
                "size": 280
            },
            {
                "product_id": 35,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "조던35",
                "product_brand": "NIKE",
                "size": 240
            },
            {
                "product_id": 23,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "Jordan 1 Low Light Smoke Grey\n\n",
                "product_brand": "NIKE",
                "size": 290
            }
        ],
        "sell_on_bidding_count": 2,
        "sell_bidding_list": [
            {
                "product_id": 19,
                "product_image_url": "https://thumbnail10.coupangcdn.com/thumbnails/remote/700x700ex/image/vendor_inventory/a9aa/a15c6027a474458123378512d26726ce048f273491268df4666779373f1d.jpg",
                "product_name": "(W) Jordan 1 Zoom Air CMFT Light Bone\n\n",
                "product_brand": "NIKE",
                "size": 290
            },
            {
                "product_id": 5,
                "product_image_url": "https://user-images.githubusercontent.com/61782539/139365117-8d7fab74-3f46-456a-aa92-95ddc58c873e.jpg",
                "product_name": "Jordan 1 x Travis Scott x Fragment Retro Low OG SP",
                "product_brand": "NIKE",
                "size": 230
            }
        ]
    }
}
```




{% endraw %}
