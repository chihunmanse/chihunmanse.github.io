<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-backend/cs/virtual-memory">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">가상 메모리 | Chihun&#x27;s Dev Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://chihunmanse.github.io/img/m.png"><meta data-rh="true" name="twitter:image" content="https://chihunmanse.github.io/img/m.png"><meta data-rh="true" property="og:url" content="https://chihunmanse.github.io/backend/cs/virtual-memory"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="가상 메모리 | Chihun&#x27;s Dev Blog"><meta data-rh="true" name="description" content="연속 메모리 할당"><meta data-rh="true" property="og:description" content="연속 메모리 할당"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://chihunmanse.github.io/backend/cs/virtual-memory"><link data-rh="true" rel="alternate" href="https://chihunmanse.github.io/backend/cs/virtual-memory" hreflang="en"><link data-rh="true" rel="alternate" href="https://chihunmanse.github.io/backend/cs/virtual-memory" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5b6de4da.css">
<link rel="preload" href="/assets/js/runtime~main.54cb9dbe.js" as="script">
<link rel="preload" href="/assets/js/main.3f3a3de7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Chihun&#x27;s Dev Blog</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/tags">Tags</a><a href="https://github.com/chihunmanse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>Chihun&#x27;s Dev Blog</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datastructure-algorithm">DataStructure &amp; Algorithm</a><button aria-label="Toggle the collapsible sidebar category &#x27;DataStructure &amp; Algorithm&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/backend">Backend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backend&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/backend/cs">CS</a><button aria-label="Toggle the collapsible sidebar category &#x27;CS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/cpu">CPU</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/memory">메모리, 보조기억장치, 입출력장치</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/os&amp;process&amp;thread">운영체제와 프로세스, 스레드</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/cpu-scheduling">CPU 스케줄링</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/process-syncronization">프로세스 동기화</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/backend/cs/virtual-memory">가상 메모리</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/file-system">파일 시스템</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/network-reference-model">네트워크 참조 모델</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/physical-layer&amp;data-link-layer">네트워크 물리 계층 &amp; 데이터 링크 계층</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/network-layer">네트워크 계층</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/transport-layer">네트워크 전송 계층</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/backend/cs/application-layer">네트워크 응용 계층</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/backend/database">DataBase</a><button aria-label="Toggle the collapsible sidebar category &#x27;DataBase&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/backend/node.js">Node.js</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node.js&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/backend/typescript">TypeScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;TypeScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/backend/nest.js">NestJS</a><button aria-label="Toggle the collapsible sidebar category &#x27;NestJS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blockchain">BlockChain</a><button aria-label="Toggle the collapsible sidebar category &#x27;BlockChain&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/backend"><span itemprop="name">Backend</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/backend/cs"><span itemprop="name">CS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">가상 메모리</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>가상 메모리</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="연속-메모리-할당">연속 메모리 할당<a href="#연속-메모리-할당" class="hash-link" aria-label="Direct link to 연속 메모리 할당" title="Direct link to 연속 메모리 할당">​</a></h2><p>프로세스에 연속적인 메모리 공간을 할당하는 방식을 연속 메모리 할당 방식이라고 한다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="스와핑">스와핑<a href="#스와핑" class="hash-link" aria-label="Direct link to 스와핑" title="Direct link to 스와핑">​</a></h3><p>스와핑은 프로세스들을 임시로 보조기억장치 일부 영역으로 쫓아내고, 그렇게 해서 생긴 메모리상의 빈 공간에 또 다른 프로세스를 적재하여 실행하는 방식이다. 스와핑을 이용하면 프로세스들이 요구하는 메모리 주소 공간의 크기가 실제 메모리 크기보다 큰 경우에도 프로세스들을 동시에 실행할 수 있다.</p><ul><li>스왑 영역 : 사용되지 않아 스왑 아웃되는 프로세스들이 저장되는 보조기억장치의 일부 영역</li><li>스왑 아웃 : 현재 실행되지 않는 프로세스가 메모리에서 스왑 영역으로 옮겨지는 것</li><li>스왑 인 : 스왑 영역에 있던 프로세스가 다시 메모리로 옮겨오는 것</li></ul><p><img loading="lazy" src="https://csnote.net/assets/img/os/swapping.png" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="연속-메모리-할당-방식">연속 메모리 할당 방식<a href="#연속-메모리-할당-방식" class="hash-link" aria-label="Direct link to 연속 메모리 할당 방식" title="Direct link to 연속 메모리 할당 방식">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="최초-적합-first-fit">최초 적합 (First Fit)<a href="#최초-적합-first-fit" class="hash-link" aria-label="Direct link to 최초 적합 (First Fit)" title="Direct link to 최초 적합 (First Fit)">​</a></h4><p>운영체제가 메모리 내의 빈 공간을 순서대로 검색하다가 적재할 수 있는 공간을 발견하면 그 공간에 프로세스를 배치하는 방식이다. 검색을 최소화하여 빠른 할당이 가능하지만 메모리 단편화가 발생할 가능성이 높다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="최적-적합-best-fit">최적 적합 (Best Fit)<a href="#최적-적합-best-fit" class="hash-link" aria-label="Direct link to 최적 적합 (Best Fit)" title="Direct link to 최적 적합 (Best Fit)">​</a></h4><p>운영체제가 빈 공간을 모두 검색해 본 후, 프로세스가 적재될 수 있는 공간 중 가장 작은 공간에 프로세스를 배치하는 방식이다. 메모리 공간의 낭비를 줄일 수 있지만, 빈 공간을 찾기 위한 탐색 시간이 오래 걸릴 수 있다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="최악-적합-worst-fit">최악 적합 (Worst Fit)<a href="#최악-적합-worst-fit" class="hash-link" aria-label="Direct link to 최악 적합 (Worst Fit)" title="Direct link to 최악 적합 (Worst Fit)">​</a></h4><p>운영체제가 빈 공간을 모두 검색해 본 후, 프로세스가 적재될 수 있는 공간 중 가장 큰 공간에 프로세스를 배치하는 방식이다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="외부-단편화-external-fragmentation">외부 단편화 (External Fragmentation)<a href="#외부-단편화-external-fragmentation" class="hash-link" aria-label="Direct link to 외부 단편화 (External Fragmentation)" title="Direct link to 외부 단편화 (External Fragmentation)">​</a></h3><p>프로세스들이 메모리에 연속적으로 할당되는 환경에서는 프로세스들이 실행되고 종료되기를 반복하며 메모리 사이에 빈 공간들이 생긴다. 프로세스 외부에 생긴 프로세스를 할당하기 어려울 만큼 작은 메모리 공간들로 인해 메모리가 낭비되는 현상을 외부 단편화라고 한다.</p><p><img loading="lazy" src="https://csnote.net/assets/img/os/external_fragmentation.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이징을-통한-가상-메모리-관리">페이징을 통한 가상 메모리 관리<a href="#페이징을-통한-가상-메모리-관리" class="hash-link" aria-label="Direct link to 페이징을 통한 가상 메모리 관리" title="Direct link to 페이징을 통한 가상 메모리 관리">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="가상-메모리-virtual-memory">가상 메모리 (Virtual Memory)<a href="#가상-메모리-virtual-memory" class="hash-link" aria-label="Direct link to 가상 메모리 (Virtual Memory)" title="Direct link to 가상 메모리 (Virtual Memory)">​</a></h3><p>프로세스를 메모리에 연속적으로 할당하는 방식은 외부 단편화 문제와 물리 메모리보다 큰 프로세스를 실행할 수 없다는 문제를 내포하고 있다. 가상 메모리는 실행하고자 하는 프로그램을 일부만 메모리에 적재하여 실제 물리 메모리 크기보다 더 큰 프로세스를 실행할 수 있게 하는 기술이다.</p><p><img loading="lazy" src="https://csnote.net/assets/img/os/virtual_memory.png" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이징-paging">페이징 (Paging)<a href="#페이징-paging" class="hash-link" aria-label="Direct link to 페이징 (Paging)" title="Direct link to 페이징 (Paging)">​</a></h3><p>연속 메모리 할당 방식에서 외부 단편화가 생긴 근본적인 이유는 각기 다른 크기의 프로세스가 메모리에 연속적으로 할당되었기 때문이다. 페이징은 프로세스의 논리 주소 공간을 페이지라는 일정한 단위로 자르고, 메모리 물리 주소 공간을 프레임이라는 페이지와 동일한 크기의 일정한 단위로 자른 뒤 페이지를 프레임에 할당하는 가상 메모리 관리 기법이다.</p><p><img loading="lazy" src="https://csnote.net/assets/img/os/paging.png" class="img_ev3q"></p><p>페이징을 사용하는 시스템에서는 프로세스 전체가 스왑 아웃 / 스왑 인되는 것이 아닌 페이지 단위로 스왑 아웃/ 스왑인을 실행한다. 즉, 프로세스를 실행하기 위해 프로세스 전체가 메모리에 적재될 필요없이 프로세스를 이루는 페이지 중 실행에 필요한 일부 페이지만을 메모리에 적재하고, 당장 실행에 필요하지 않은 페이지들은 보조기억장치에 남겨둘 수 있다. 이와 같은 방식을 통해 물리 메모리보다 더 큰 프로세스를 실행할 수 있다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="쓰기-시-복사-copy-on-write">쓰기 시 복사 (Copy On Write)<a href="#쓰기-시-복사-copy-on-write" class="hash-link" aria-label="Direct link to 쓰기 시 복사 (Copy On Write)" title="Direct link to 쓰기 시 복사 (Copy On Write)">​</a></h4><p>쓰기 시 복사에서는 부모 프로세스와 동일한 자식 프로세스가 생성되면 자식 프로세스로 하여금 부모 프로세스와 동일한 프레임을 가리키게 함으로써 부모 프로세스의 메모리 공간을 복사하지 않고도 동일한 코드 및 데이터 영역을 가리킬 수 있다. 만일 부모 프로세스와 자식 프로세스가 메모리에 어떠한 데이터도 쓰지 않고 읽기 작업만 이어 나가면 이 상태가 지속된다. 부모 프로세스 혹은 자식 프로세스 둘 중 하나가 페이지에 쓰기 작업을 하면 그 순간 해당 페이지가 별도의 공간으로 복제되고 각 프로세스는 자신의 고유한 페이지가 할당된 프레임을 가리키게 된다. 이러한 방식을 쓰기 시 복사라고 한다. 쓰기 시 복사를 통해 프로세스 생성 시간을 줄이고 메모리 공간을 절약할 수 있다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이지-테이블-page-table">페이지 테이블 (Page Table)<a href="#페이지-테이블-page-table" class="hash-link" aria-label="Direct link to 페이지 테이블 (Page Table)" title="Direct link to 페이지 테이블 (Page Table)">​</a></h3><p>프로세스가 메모리에 불연속적으로 배치되어 있다면 CPU 입장에서 이를 순차적으로 실행할 수 없기 때문에 이를 해결하기 위해 페이징 시스템은 프로세스가 비록 (실제 메모리 내의 주소인) 물리 주소에 불연속적으로 배치되더라도 (CPU가 바라보는 주소인) 논리 주소에는 연속적으로 배치되도록 페이지 테이블을 이용한다. 즉, 페이지 테이블이란 현재 어떤 페이지가 어떤 프레임에 할당되었는지 알기 위해 페이지 번호와 프레임 번호를 짝지어 주는 표 형태의 정보이다.</p><p><img loading="lazy" src="https://csnote.net/assets/img/os/page_table.png" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="내부-단편화-internal-fragmentation">내부 단편화 (Internal Fragmentation)<a href="#내부-단편화-internal-fragmentation" class="hash-link" aria-label="Direct link to 내부 단편화 (Internal Fragmentation)" title="Direct link to 내부 단편화 (Internal Fragmentation)">​</a></h4><p>페이징은 외부 단편화 문제를 해결할 수 있지만 내부 단편화 문제를 야기할 수 있다. 내부 단편화는 모든 프로세스가 페이지 크기에 딱 맞게 잘리지 않아 발생하는 메모리의 낭비 현상이다. 내부 단편화는 하나의 페이지 크기보다 작은 크기로 발생한다. 하지만 하나의 페이지 크기를 너무 작게 설정하면 그만큼 페이지 테이블의 크기도 커지기 때문에 페이지 테이블이 차지하는 공간이 낭비된다. 그렇기에 내부 단편화를 적당히 방지하면서 너무 크지 않은 페이지 테이블이 만들어지도록 페이지의 크기를 조정하는 것이 중요하다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이지-테이블-베이스-레지스터-ptbr-page-table-base-register">페이지 테이블 베이스 레지스터 (PTBR, Page Table Base Register)<a href="#페이지-테이블-베이스-레지스터-ptbr-page-table-base-register" class="hash-link" aria-label="Direct link to 페이지 테이블 베이스 레지스터 (PTBR, Page Table Base Register)" title="Direct link to 페이지 테이블 베이스 레지스터 (PTBR, Page Table Base Register)">​</a></h4><p>프로세스마다 각자의 프로세스 테이블을 가지고 있고 각 프로세스의 페이지 테이블들은 메모리에 적재되어 있다. 그리고 CPU 내의 PTBR은 각 프로세스의 페이지 테이블이 적재된 주소를 가지고 있다. 예를 들어 프로세스 A가 실행될 때 PTBR은 프로세스 A의 페이지 테이블을 가리키고, CPU는 프로세스 A의 페이지 테이블을 통해 프로세스 A의 페이지가 적재된 프레임을 알 수 있다. 각 프로세스들의 페이지 테이블 정보는 PCB에 기록되고, 프로세스의 컨텍스트 스위칭이 일어날 때 다른 레지스터와 함께 변경된다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tlb-translation-lookaside-buffer">TLB (Translation Lookaside Buffer)<a href="#tlb-translation-lookaside-buffer" class="hash-link" aria-label="Direct link to TLB (Translation Lookaside Buffer)" title="Direct link to TLB (Translation Lookaside Buffer)">​</a></h4><p>페이지 테이블을 메모리에 두게 되면 메모리 접근 시간이 두 배로 늘어난다. 메모리에 있는 페이지 테이블을 보기 위해 한 번, 프레임에 접근하기 위해 한 번, 총 두 번의 메모리 접근이 필요하기 때문이다. 이와 같은 문제를 해결하기 위해 CPU 곁에 (일반적으로 MMU 내에) TLB라는 페이지 테이블의 캐시 메모리를 둔다. TLB는 페이지 테이블의 일부 내용을 참조 지역성에 근거해 저장한다.</p><p><img loading="lazy" src="https://csnote.net/assets/img/os/tlb.png" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이징-주소-변환">페이징 주소 변환<a href="#페이징-주소-변환" class="hash-link" aria-label="Direct link to 페이징 주소 변환" title="Direct link to 페이징 주소 변환">​</a></h4><p>하나의 페이지 혹은 프레임은 여러 주소를 포괄하고 있다. 때문에 특정 주소에 접근하려면 두 가지 정보가 필요하다.</p><ol><li>접근하려는 페이지 혹은 프레임</li><li>접근하려는 주소가 해당 페이지 혹은 프레임으로부터 얼마나 떨어져 있는지</li></ol><p>페이징 시스템에서는 모든 논리 주소가 기본적으로 페이지 번호와 변위(offset)로 이루어져 있다. 변위는 접근하려는 주소가 프레임의 시작 번지로부터 얼만큼 떨어져 있는지를 알기 위한 정보이다. 즉, 논리 주소 &lt;페이지 번호, 변위&gt;는 페이지 테이블을 통해 물리 주소 &lt;프레임 번호, 변위&gt;로 변환된다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이지-테이블-엔트리-pte-page-table-entry">페이지 테이블 엔트리 (PTE, Page Table Entry)<a href="#페이지-테이블-엔트리-pte-page-table-entry" class="hash-link" aria-label="Direct link to 페이지 테이블 엔트리 (PTE, Page Table Entry)" title="Direct link to 페이지 테이블 엔트리 (PTE, Page Table Entry)">​</a></h3><p>페이지 테이블의 각각의 행들을 페이지 테이블 엔트리라고 한다. 페이지 테이블 엔트리에는 페이지 번호와 프레임 번호 뿐만 아니라 유효 비트, 보호 비트, 참조 비트, 수정 비트와 같은 정보들이 담겨있다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="유효-비트">유효 비트<a href="#유효-비트" class="hash-link" aria-label="Direct link to 유효 비트" title="Direct link to 유효 비트">​</a></h4><p>현재 해당 페이지에 접근 가능한지 여부를 나타내는 비트이다. 현재 페이지가 메모리에 적재되어 있는지 아니면 보조기억장치에 있는지를 알려준다.</p><p><strong>페이지 폴트 (Page Fault)</strong></p><p>만일 CPU가 유효비트가 0인 메모리에 적재되어 있지 않은 페이지로 접근하려고 할 때 페이지 폴트라는 예외가 발생한다. CPU가 페이지 폴트를 처리하는 과정은 하드웨어 인터럽트를 처리하는 과정과 유사하다.</p><ol><li>CPU는 기존의 작업을 백업한다.</li><li>페이지 폴트 처리 루틴을 실행한다.</li><li>페이지 처리 루틴은 원하는 페이지를 메모리로 가져온 뒤 유효 비트를 1로 변경해 준다.</li><li>페이지 폴트를 처리했다면 CPU는 해당 페이지에 접근할 수 있게 된다.</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="보호-비트">보호 비트<a href="#보호-비트" class="hash-link" aria-label="Direct link to 보호 비트" title="Direct link to 보호 비트">​</a></h4><p>페이지 보호 기능을 위해 존재하는 비트로, 해당 페이지가 읽고 쓰기가 모두 가능한 페이지인지, 혹은 읽기만 가능한 페이지인지를 나타내는 비트이다. 프로세스의 코드 영역과 같이 읽기 전용 영역을 보호해준다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="참조-비트">참조 비트<a href="#참조-비트" class="hash-link" aria-label="Direct link to 참조 비트" title="Direct link to 참조 비트">​</a></h4><p>CPU가 이 페이지에 접근한 적이 있는지 여부를 나타내는 비트이다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="수정-비트">수정 비트<a href="#수정-비트" class="hash-link" aria-label="Direct link to 수정 비트" title="Direct link to 수정 비트">​</a></h4><p>해당 페이지에 데이터를 쓴 적이 있는지 없는지 수정 여부를 나타내는 비트로 더티 비트(dirty bit)라고도 부른다. 수정 비트는 페이지가 메모리에서 사라질 때 보조기억장치에 쓰기 작업을 해야 하는지, 할 필요가 없는지를 판단하기 위해 존재한다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이지-교체와-프레임-할당">페이지 교체와 프레임 할당<a href="#페이지-교체와-프레임-할당" class="hash-link" aria-label="Direct link to 페이지 교체와 프레임 할당" title="Direct link to 페이지 교체와 프레임 할당">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="요구-페이징-demand-paging">요구 페이징 (Demand Paging)<a href="#요구-페이징-demand-paging" class="hash-link" aria-label="Direct link to 요구 페이징 (Demand Paging)" title="Direct link to 요구 페이징 (Demand Paging)">​</a></h3><p>프로세스를 메모리에 적재할 때 처음부터 모든 페이지를 적재하지 않고 필요한 페이지만을 메모리에 적재하는 기법이다.</p><ol><li>CPU가 특정 페이지에 접근하는 명령어를 실행한다.</li><li>해당 페이지가 현재 메모리에 있을 경우 (유효 비트가 1인 경우) CPU는 페이지가 적재된 프레임에 접근한다.</li><li>해당 페이지가 현재 메모리에 없을 경우 (유효 비트가 0인 경우) 페이지 폴트가 발생한다.</li><li>페이지 폴트 처리 루틴은 해당 페이지를 메모리로 적재하고 유효 비트를 1로 설정한다.</li><li>다시 1번을 실행한다.</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="순수-요구-페이징-pure-demand-paging">순수 요구 페이징 (Pure Demand Paging)<a href="#순수-요구-페이징-pure-demand-paging" class="hash-link" aria-label="Direct link to 순수 요구 페이징 (Pure Demand Paging)" title="Direct link to 순수 요구 페이징 (Pure Demand Paging)">​</a></h4><p>아무런 페이지도 메모리에 적재하지 않은 상태에서 프로세스를 실행하는 방식이다. 프로세스의 첫 명령어를 실행하는 순간부터 페이지 폴트가 계속 발생하게 되고, 실행에 필요한 페이지가 어느 정도 적재된 이후부터는 페이지 폴트 발생 빈도가 떨어진다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="페이지-교체-알고리즘">페이지 교체 알고리즘<a href="#페이지-교체-알고리즘" class="hash-link" aria-label="Direct link to 페이지 교체 알고리즘" title="Direct link to 페이지 교체 알고리즘">​</a></h3><p>요구 페이징 기법으로 페이지들을 적재하다 보면 언젠가 메모리가 가득 차게 된다. 당장 실행에 필요한 페이지를 적재하기 위해 메모리에 적재된 페이지를 보조기억장치로 내보내야 할 때, 어떤 페이지를 내보낼지 결정하는 알고리즘이다. 페이지 폴트를 가장 적게 일으키는 알고리즘을 좋은 알고리즘으로 평가한다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fifo-페이지-교체-알고리즘-first-in-first-out-page-replacement-algorithm">FIFO 페이지 교체 알고리즘 (First-In First-Out Page Replacement Algorithm)<a href="#fifo-페이지-교체-알고리즘-first-in-first-out-page-replacement-algorithm" class="hash-link" aria-label="Direct link to FIFO 페이지 교체 알고리즘 (First-In First-Out Page Replacement Algorithm)" title="Direct link to FIFO 페이지 교체 알고리즘 (First-In First-Out Page Replacement Algorithm)">​</a></h4><p>메모리에 가장 먼저 올라온 페이지부터 내쫓는, 적재된 페이지 순서대로 교체하는 페이지 교체 알고리즘이다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="최적-페이지-교체-알고리즘-optimal-page-replacement-algorithm">최적 페이지 교체 알고리즘 (Optimal Page Replacement Algorithm)<a href="#최적-페이지-교체-알고리즘-optimal-page-replacement-algorithm" class="hash-link" aria-label="Direct link to 최적 페이지 교체 알고리즘 (Optimal Page Replacement Algorithm)" title="Direct link to 최적 페이지 교체 알고리즘 (Optimal Page Replacement Algorithm)">​</a></h4><p>앞으로의 사용 빈도가 가장 낮은 페이지를 교체하는 페이지 교체 알고리즘이다. 프로세스가 앞으로 메모리 어느 부분을 어떻게 참조할지 가늠하기 어렵기 때문에 그 자체를 운영체제에서 사용하기보다는, 주로 다른 페이지 교체 알고리즘의 이론상 성능을 평가하기 위한 목적으로 사용된다. 즉, 최적 페이지 교체 알고리즘을 실행했을 때 발생하는 페이지 폴트 횟수를 페이지 폴트의 하한선으로 간주하고, 최적 페이지 교체 알고리즘에 비해 얼만큼 페이지 폴트 횟수가 발생하느냐를 통해 페이지 교체 알고리즘을 평가하기 위해 사용한다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lru-페이지-교체-알고리즘-lru-least-recently-used-page-algorithm">LRU 페이지 교체 알고리즘 (LRU, Least Recently Used Page Algorithm)<a href="#lru-페이지-교체-알고리즘-lru-least-recently-used-page-algorithm" class="hash-link" aria-label="Direct link to LRU 페이지 교체 알고리즘 (LRU, Least Recently Used Page Algorithm)" title="Direct link to LRU 페이지 교체 알고리즘 (LRU, Least Recently Used Page Algorithm)">​</a></h4><p>가장 오랫동안 사용되지 않은 페이지를 교체하는 페이지 교체 알고리즘이다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="프레임-할당">프레임 할당<a href="#프레임-할당" class="hash-link" aria-label="Direct link to 프레임 할당" title="Direct link to 프레임 할당">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="스레싱-thrashing">스레싱 (Thrashing)<a href="#스레싱-thrashing" class="hash-link" aria-label="Direct link to 스레싱 (Thrashing)" title="Direct link to 스레싱 (Thrashing)">​</a></h4><p>프레임이 부족하면 CPU는 페이지 폴트가 자주 발생할 수밖에 없다. 프로세스가 실제 실행되는 시간보다 페이징에 더 많은 시간을 소요하여 성능이 저해되는 문제를 스래싱이라고 한다.</p><p>동시에 실행되는 프로세스 수가 어느 정도 증가하면 CPU 이용률이 높아지지만, 필요 이상으로 늘리면 각 프로세스들이 사용할 수 있는 프레임 수가 적어지기 때문에 페이지 폴트가 지나치게 빈번히 발생하고, 이에 따라 CPU 이용율이 떨어져 전체적인 성능이 저해된다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="프레임-할당-방식">프레임 할당 방식<a href="#프레임-할당-방식" class="hash-link" aria-label="Direct link to 프레임 할당 방식" title="Direct link to 프레임 할당 방식">​</a></h4><p><strong>정적 할당 방식</strong></p><p>프로세스의 실행 과정을 고려하지 않고 단순히 프로세스의 크기와 물리 메모리의 크기만을 고려하여 프레임을 할당하는 방식이다.</p><ul><li>균등 할당 : 모든 프로세스에 균등하게 프레임을 할당하는 방식</li><li>비례 할당 : 프로세스의 크기에 따라 프레임을 배분하는 방식</li></ul><p><strong>동적 할당 방식</strong></p><p>프로세스의 실행 과정을 고려하여 프레임 수를 결정하는 방식이다.</p><ul><li>작업 집합 모델 기반 할당 : 작업 집합(프로세스가 실행 중에 일정 시간 동안 참조한 페이지의 집합)의 크기만큼만 프레임을 할당하는 방식</li><li>페이지 폴트 빈도 기반 할당 : 페이지 폴트율에 상한선과 하한선을 정하고, 그 내부 범위 안에서만 프레임을 할당하는 방식</li></ul><hr><p><strong>참조</strong></p><p><a href="https://www.hanbit.co.kr/store/books/look.php?p_code=B9177037040&amp;utm_source=hongong" target="_blank" rel="noopener noreferrer">https://www.hanbit.co.kr/store/books/look.php?p_code=B9177037040&amp;utm_source=hongong</a></p><p><a href="https://csnote.net" target="_blank" rel="noopener noreferrer">https://csnote.net</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/backend">Backend</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/cs">CS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/os">OS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/memory">Memory</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/virtual-memory">VirtualMemory</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/backend/cs/process-syncronization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">프로세스 동기화</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/backend/cs/file-system"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">파일 시스템</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#연속-메모리-할당" class="table-of-contents__link toc-highlight">연속 메모리 할당</a><ul><li><a href="#스와핑" class="table-of-contents__link toc-highlight">스와핑</a></li><li><a href="#연속-메모리-할당-방식" class="table-of-contents__link toc-highlight">연속 메모리 할당 방식</a></li><li><a href="#외부-단편화-external-fragmentation" class="table-of-contents__link toc-highlight">외부 단편화 (External Fragmentation)</a></li></ul></li><li><a href="#페이징을-통한-가상-메모리-관리" class="table-of-contents__link toc-highlight">페이징을 통한 가상 메모리 관리</a><ul><li><a href="#가상-메모리-virtual-memory" class="table-of-contents__link toc-highlight">가상 메모리 (Virtual Memory)</a></li><li><a href="#페이징-paging" class="table-of-contents__link toc-highlight">페이징 (Paging)</a></li><li><a href="#페이지-테이블-page-table" class="table-of-contents__link toc-highlight">페이지 테이블 (Page Table)</a></li><li><a href="#페이지-테이블-엔트리-pte-page-table-entry" class="table-of-contents__link toc-highlight">페이지 테이블 엔트리 (PTE, Page Table Entry)</a></li></ul></li><li><a href="#페이지-교체와-프레임-할당" class="table-of-contents__link toc-highlight">페이지 교체와 프레임 할당</a><ul><li><a href="#요구-페이징-demand-paging" class="table-of-contents__link toc-highlight">요구 페이징 (Demand Paging)</a></li><li><a href="#페이지-교체-알고리즘" class="table-of-contents__link toc-highlight">페이지 교체 알고리즘</a></li><li><a href="#프레임-할당" class="table-of-contents__link toc-highlight">프레임 할당</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.54cb9dbe.js"></script>
<script src="/assets/js/main.3f3a3de7.js"></script>
</body>
</html>